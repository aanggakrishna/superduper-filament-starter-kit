/*
    Filament Sidebar Classes
*/

/* Logo */
.fi-logo {
  @apply !h-9 transition-all duration-300 hover:scale-105;
}

.fi-sidebar-header > div[x-show] {
    flex: 1 !important;
    justify-content: center !important;
    align-items: center !important;
}

.fi-sidebar-header > div[x-show] a {
    display: flex !important;
    justify-content: center !important;
}

/* SIDEBAR - Green Theme */
.fi-sidebar {
  @apply transition-all duration-300 ease-in-out;
  background: linear-gradient(180deg, rgba(var(--primary-rgb), 0.03) 0%, rgba(var(--primary-rgb), 0.06) 100%);
  /* Responsive width */
  width: var(--sidebar-width);
}

.dark .fi-sidebar {
  background: linear-gradient(180deg, #0F1419 0%, #1A2027 100%);
}

/* Mobile responsiveness - Overlay behavior */
@media (max-width: 1024px) {
  .fi-sidebar {
    @apply fixed inset-y-0 start-0 z-50;
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(10px);
    border-right: 1px solid rgba(var(--primary-rgb), 0.1);
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.15);
  }
  
  .dark .fi-sidebar {
    background: rgba(15, 20, 25, 0.98) !important;
    border-right: 1px solid rgba(var(--primary-rgb), 0.3);
  }
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .fi-sidebar {
    width: 280px !important;
  }
  
  .fi-sidebar.fi-sidebar-open {
    width: 280px !important;
  }
}

@media (max-width: 640px) {
  .fi-sidebar {
    width: 260px !important;
  }
  
  .fi-sidebar.fi-sidebar-open {
    width: 260px !important;
  }
}

.fi-sidebar.fi-sidebar-open {
  @apply border-r border-gray-200 dark:border-gray-800;
}

.fi-sidebar-header {
  @apply py-4 !ring-0 !shadow-none sticky top-0 z-10;
  background: linear-gradient(180deg, rgba(var(--primary-rgb), 0.03) 0%, rgba(255, 255, 255, 0.95) 100%);
  border-bottom: 1px solid rgba(var(--primary-rgb), 0.1);
}

.dark .fi-sidebar-header {
  background: linear-gradient(180deg, rgba(var(--primary-rgb), 0.1) 0%, rgba(15, 20, 25, 0.95) 100%);
  border-bottom: 1px solid rgba(var(--primary-rgb), 0.2);
}

.fi-topbar nav {
  @apply !ring-0 py-3 !border-none !shadow-none bg-white sticky top-0 z-10;
  border-bottom: 1px solid rgba(var(--primary-rgb), 0.1);
}

.fi-topbar,
.fi-topbar input,
.fi-topbar svg,
.fi-topbar .fi-icon-btn svg,
.fi-topbar .fi-btn svg {
  @apply text-primary-400 dark:text-primary-300;
}

.fi-sidebar-nav-groups {
  @apply gap-y-5 px-2.5 py-3;
}

/* Responsive adjustments for sidebar navigation */
@media (max-width: 768px) {
  .fi-sidebar-nav-groups {
    @apply px-2 py-2 gap-y-3;
  }
}

@media (max-width: 640px) {
  .fi-sidebar-nav-groups {
    @apply px-1.5 py-1.5 gap-y-2;
  }
}

.fi-sidebar-group {
  @apply space-y-1;
}

.fi-sidebar-group-items {
    @apply gap-y-1.5;
}

/* Responsive group items */
@media (max-width: 768px) {
  .fi-sidebar-group-items {
    @apply gap-y-1;
  }
}

.fi-sidebar-group-label {
  @apply text-xs font-bold text-primary-600 dark:text-primary-400 uppercase tracking-wider px-3 mb-1.5;
}

/* Responsive group labels */
@media (max-width: 768px) {
  .fi-sidebar-group-label {
    @apply px-2 text-xs mb-1;
  }
}

@media (max-width: 640px) {
  .fi-sidebar-group-label {
    @apply px-1.5 text-xs mb-0.5;
  }
}

.dark .fi-sidebar-group-label {
  @apply text-primary-300;
}

/* SIDEBAR ITEMS */
.fi-sidebar-item a {
  @apply px-3 py-2 rounded-xl flex items-center gap-x-2.5 transition-all duration-300;
  border-left: 2px solid transparent;
}

/* Responsive sidebar items */
@media (max-width: 768px) {
  .fi-sidebar-item a {
    @apply px-2 py-2 gap-x-2;
  }
}

@media (max-width: 640px) {
  .fi-sidebar-item a {
    @apply px-1.5 py-1.5 gap-x-1.5;
  }
}

.fi-sidebar-item a > span,
.fi-sidebar-item a > svg {
  @apply font-medium transition-all duration-200;
}

.fi-sidebar-item a > svg {
  @apply w-5 h-5 shrink-0 text-primary-400 dark:text-primary-300;
}

.fi-sidebar-item a:focus,
.fi-sidebar-item a:hover {
  background: rgba(var(--primary-rgb), 0.12); /* More visible solid color */
  /* Or use a custom gradient for more pop: */
  /* background: linear-gradient(90deg, #FFD33322 0%, #2D2B8D11 100%); */
  @apply shadow-sm transform transition-all duration-200 ease-out border-l-2 border-l-secondary-500;
  box-shadow: 0 3px 10px -2px rgba(var(--primary-rgb), 0.15), 0 1px 2px rgba(var(--secondary-rgb), 0.1);
}

.dark .fi-sidebar-item a {
  @apply text-primary-200;
  background: transparent;
}

.dark .fi-sidebar-item a:focus,
.dark .fi-sidebar-item a:hover {
  background: linear-gradient(90deg, rgba(var(--secondary-rgb), 0.08), rgba(var(--primary-rgb), 0.18));
  @apply text-primary-100 border-l-secondary-600;
}

.fi-sidebar-item a:hover > svg,
.fi-sidebar-item a:focus > svg {
  @apply text-secondary-600 dark:text-secondary-500 translate-x-0.5 scale-110;
}

.fi-sidebar-item a:hover > span,
.fi-sidebar-item a:focus > span {
  @apply text-primary-700 dark:text-primary-200 font-medium;
  text-shadow: 0px 0.5px 0px rgba(var(--primary-rgb), 0.3);
}

/* Active state */
.fi-sidebar-item-active a {
  background: var(--primary-gradient);
  @apply text-white shadow-md border-l-0;
  box-shadow: 0 4px 12px -2px rgba(var(--primary-rgb), 0.6), 0 2px 4px rgba(var(--secondary-rgb), 0.15);
}

.dark .fi-sidebar-item-active a {
    background: linear-gradient(90deg, rgba(var(--secondary-rgb), 0.08), rgba(var(--primary-rgb), 0.18));
    @apply text-primary-100 border-l-secondary-600;
    box-shadow: none;
}

.fi-sidebar-item-active a > svg {
  @apply text-white scale-110;
}

.fi-sidebar-item-active a > span {
  @apply text-white font-semibold;
  text-shadow: 0px 1px 0px rgba(0, 0, 0, 0.2);
}

/* Active hover state */
.fi-sidebar-item-active a:hover,
.fi-sidebar-item-active a:focus {
  background: var(--primary-gradient);
  @apply text-white shadow-md border-l-0;
  box-shadow: 0 4px 12px -2px rgba(var(--primary-rgb), 0.4), 0 2px 4px rgba(var(--secondary-rgb), 0.1);
  filter: none;
}

/* Prevent icon movement and keep text white for active sidebar item on hover/focus */
.fi-sidebar-item-active a:hover > svg,
.fi-sidebar-item-active a:focus > svg {
  @apply text-white scale-110; /* No translate-x, keep scale if you want */
}

.fi-sidebar-item-active a:hover > span,
.fi-sidebar-item-active a:focus > span {
  @apply text-white font-semibold; /* No color change, always white */
  text-shadow: 0px 1px 0px rgba(0, 0, 0, 0.2);
}

/* Custom scrollbar for sidebar */
.fi-sidebar::-webkit-scrollbar {
  width: 6px;
}

.fi-sidebar::-webkit-scrollbar-track {
  background: transparent;
}

.fi-sidebar::-webkit-scrollbar-thumb {
  @apply bg-primary-200 dark:bg-primary-800 rounded-full;
}

.fi-sidebar::-webkit-scrollbar-thumb:hover {
  @apply bg-primary-300 dark:bg-primary-700;
}

.dark .fi-sidebar-item-active a > span,
.dark .fi-sidebar-item-active a > svg {
  @apply text-white;
}

/* Mobile sidebar collapse button - Make it visible on mobile */
@media (max-width: 1024px) {
  .fi-sidebar .fi-icon-btn[x-show*="sidebar.isOpen"] {
    @apply flex !important;
  }
}

/* Ensure sidebar overlay covers full screen on mobile */
@media (max-width: 1024px) {
  .fi-sidebar.fi-sidebar-open {
    @apply translate-x-0;
    width: 280px !important;
  }
  
  /* Close button positioning for mobile */
  .fi-sidebar-header .fi-icon-btn:last-child {
    @apply flex lg:hidden;
  }
}

/* Mobile backdrop overlay */
.fi-sidebar-backdrop {
  @apply fixed inset-0 bg-black/50 z-40 lg:hidden;
  backdrop-filter: blur(2px);
}

/* Hamburger button styling for mobile */
.fi-topbar .fi-sidebar-open-btn {
  @apply lg:hidden;
}

.fi-topbar .fi-sidebar-open-btn .fi-btn {
  @apply bg-white hover:bg-gray-50 border border-gray-300 shadow-sm;
}

